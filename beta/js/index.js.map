{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/fr24.js","webpack:///./src/js/index.js","webpack:///./src/js/measureTransform.js","webpack:///./src/js/messageBox.js"],"names":["daemon","fr24daemon","serv","msgBox","MessageBox","options","messageBoxSelector","loaderCallback","window","checkData","setTimeout","update","timeout","status","init","errorCode","msg","errors","lang","Error","setMsg","fr24informer","Object","assign","settings","defaultOptions","response","locationCoords","bounds","request","locationAccuracy","parseFloat","locations","lat","lon","serviceUrl","serviceInput","onReady","fetch","then","ok","json","data","call","error","prepareData","cleanTable","i","keys","forEach","k","row","values","dataFields","field","column","func","measureTransform","push","dist","point","sort","dynamicSort","sortAsc","sortBy","renderer","fr24renderer","mainRender","view","mainCreate","headerCreate","contentCreate","dataUpdate","updateTrigger","target","document","querySelector","mainSelector","classList","add","contentSelectors","containerClass","main","header","createElement","rowClass","headerClass","appendChild","val","key","title","el","append","itemClass","dataset","innerHTML","content","contentClass","rows","childNodes","defaultElement","rowUpdate","items","hide","item","innerText","args","arg","addEventListener","distance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","asin","sqrt","d","parseInt","deg2rad","deg","miles2km","mil","feet2meters","feet","property","sortOrder","substr","b","result","HIDE_TIMEOUT","selector","message","box","show","self","style","display"],"mappings":"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","file":"index.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/index.js\");\n","import settings from './settings.json';\nimport MessageBox from './messageBox';\nimport { measureTransform, dynamicSort } from './measureTransform';\n\nlet daemon;\n\n/* Класс контроллера */\n\nclass fr24daemon{\n  constructor(serv) {\n    this.serv = serv;\n    this.msgBox = new MessageBox(serv.options.messageBoxSelector);\n    this.loaderCallback = function() {window.fr24daemon.serv.checkData(this);}\n  }\n\n  updateTrigger() {\n    setTimeout(this.update, daemon.serv.options.timeout);\n  }\n\n  update() {\n    daemon.status = \"update\";\n    window.fr24daemon.serv.init();\n  }\n\n  /* Обработка ошибок */\n\n  errors(errorCode) {\n    let msg = daemon.errors[errorCode][daemon.options.lang];\n\n    if (daemon.errors[errorCode]['type'] === 'critical') {\n      msg += ' ' + daemon.errors['critical'];\n    }\n\n    if (daemon.errors[errorCode]['type'] === 'critical') {\n      daemon.status = 'error';\n      throw Error(msg);\n    } else {\n      daemon.msgBox.setMsg(msg);\n    }\n  }\n}\n\n/* Класс получения и обработки данных */\n\nexport class fr24informer {\n  constructor(options) {\n    this.options = Object.assign({}, settings.defaultOptions, options);\n    daemon = window.fr24daemon = new fr24daemon(this);\n    this.init();\n  }\n\n  /* Подготовка запроса */\n\n  init() {\n    daemon.status = 'ready';\n    if (!this.response(daemon.loaderCallback)) daemon.errors('callbackFailed');\n  }\n\n  request() {\n    let\n      locationCoords,\n      bounds,\n      request;\n\n    this.options.locationAccuracy = parseFloat(this.options.locationAccuracy);\n    if (this.options.locationAccuracy < 1) this.options.locationAccuracy = 1;\n\n    locationCoords = settings.locations[this.options['point']];\n    locationCoords.lat = parseFloat(locationCoords['lat']);\n    locationCoords.lon = parseFloat(locationCoords['lon']);\n\n    if (!locationCoords.lat || !locationCoords.lon) daemon.errors('locationError');\n\n    bounds = (locationCoords.lat + this.options.locationAccuracy) + ','\n      + (locationCoords.lat - this.options.locationAccuracy) + ','\n      + (locationCoords.lon - this.options.locationAccuracy) + ','\n      + (locationCoords.lon + this.options.locationAccuracy);\n\n    if (!settings.serviceUrl) daemon.errors('noServiceUrl');\n    if (!settings.serviceInput) daemon.errors('noServiceInput');\n\n    if (daemon.status === 'error') return false;\n\n    request = settings.serviceUrl + '?' + settings.serviceInput + '=' + bounds;\n    return request;\n  }\n\n  /* Получение информации */\n\n  response(onReady) {\n    let request = this.request();\n    if (request && daemon.status === 'ready') {\n      return fetch(request).then(\n        response => {\n          if (response.ok) {\n            return response.json();\n          } else {\n            return 'connectionError';\n          }\n        }\n      ).then(data => {\n        onReady.call(data);\n        return true;\n      });\n    }\n    return false;\n  }\n\n  /* Обработка данных */\n\n  checkData(data) {\n    if (typeof data === 'string') daemon.error(data);\n    if (typeof data === 'object') this.prepareData(data);\n  }\n\n  prepareData(data) {\n    let cleanTable = [], i = 0;\n\n    Object.keys(data).forEach((k) => {\n      if (typeof data[k] !== 'object') delete data[k];\n      else {\n        let row = Object.values(data[k]);\n        cleanTable[i] = [];\n        settings.dataFields.forEach((field) => {\n          if (field.column > 0) {\n            if (field.func & measureTransform[field.func]) {\n              cleanTable[i].push(measureTransform[field.func](row[field.column]));\n            } else {\n              cleanTable[i].push(row[field.column]);\n            }\n          } else if (field.func === 'getDistanceLatLonInKm') {\n            let dist = measureTransform[field.func](\n              cleanTable[i][0], cleanTable[i][1],\n              settings.locations[this.options.point]['lat'], settings.locations[this.options.point]['lon']\n            );\n            cleanTable[i].push(dist);\n          }\n        });\n        i++;\n      }\n    });\n\n    /* Сортировка */\n\n    cleanTable.sort(dynamicSort(\n      (this.options.sortAsc === \"ASC\" ? \"\" : \"-\") + this.options.sortBy['fieldNum']\n    ));\n\n    if (!daemon.renderer) daemon.renderer = new fr24renderer(cleanTable);\n    else daemon.renderer.mainRender(cleanTable);\n  }\n}\n\n/* Класс рендеринга информации */\n\nclass fr24renderer {\n  constructor(data) {\n    this.data = data;\n    this.mainRender(data);\n  }\n\n  /* Основной блок */\n  mainRender(data) {\n    this.data = data;\n    if(!daemon.view) {\n      daemon.view = {};\n      this.mainCreate();\n      this.headerCreate();\n      this.contentCreate();\n    }\n    this.dataUpdate();\n    daemon.status = \"finish\";\n    daemon.updateTrigger();\n  }\n\n  /* Создание основного блока */\n\n  mainCreate() {\n    let target = document.querySelector(daemon.serv.options.mainSelector);\n    if (!target) daemon.error('renderMainError');\n    target.classList.add(daemon.serv.options.contentSelectors.containerClass);\n    daemon.view.main = target;\n  }\n\n  /* Создание шапки блока */\n  headerCreate() {\n    let header;\n    header = document.createElement('div');\n    header.classList.add(daemon.serv.options.contentSelectors.rowClass, daemon.serv.options.contentSelectors.headerClass);\n    daemon.view.header = header;\n    daemon.view.main.appendChild(header);\n\n    settings.dataFields.forEach((val, key) => {\n      if (!settings.dataFields[key]['hide']) {\n        let title, el = document.createElement('div');\n        header.append(el);\n        el.classList.add(daemon.serv.options.contentSelectors.itemClass);\n        el.dataset.column = key;\n        if (settings.dataFields[key][daemon.serv.options.lang]['title']) {\n          title = settings.dataFields[key][daemon.serv.options.lang]['title'];\n        } else {\n          title = settings.dataFields[key]['key'];\n        }\n        el.innerHTML = title + \" \" + ( settings.dataFields[key][daemon.serv.options.lang]['unit'] || '' );\n      }\n    });\n  }\n\n  /* Создание элементов контента */\n\n  contentCreate() {\n    let content;\n    content = document.createElement('div');\n    content.classList.add(daemon.serv.options.contentSelectors.contentClass);\n    daemon.view.content = content;\n    daemon.view.main.appendChild(content);\n  }\n\n  /* Обновление контента */\n\n  dataUpdate() {\n    let\n      data = this.data,\n      content = daemon.view.content,\n      rows = content.childNodes;\n\n    data.forEach((val, key) => {\n      let row;\n      if (!rows[key]) {\n        row = this.defaultElement(content, daemon.serv.options.contentSelectors.rowClass);\n      } else {\n        row = rows[key];\n      }\n      this.rowUpdate(row, data[key]);\n    });\n  }\n\n  /* Обновление строки контента */\n\n  rowUpdate(row, values) {\n    let items = row.childNodes;\n    values.forEach((val, key) => {\n      if (!settings.dataFields[key].hide) {\n        let item;\n        if (!items[key]) {\n          item = this.defaultElement(row, daemon.serv.options.contentSelectors.itemClass);\n        } else {\n          item = items[key];\n        }\n        item.innerText = val;\n      }\n    });\n  }\n\n  /* Создание стандартного элемента */\n\n  defaultElement(target, ...args) {\n    let el = document.createElement('div');\n    target.appendChild(el);\n    args.forEach((arg) => {\n      el.classList.add(arg);\n    });\n    return el;\n  }\n\n}\n\n\n","import {fr24informer} from \"./fr24\";\n\ndocument.addEventListener(\"DOMContentLoaded\", new fr24informer());\n","/* Вспомогательные функции конвертации ед. измерения */\n\nexport const measureTransform = {\n  \"getDistanceLatLonInKm\":\n    function distance(lat1, lon1, lat2, lon2) {\n      var R = 6371; // km\n      var dLat = (lat2-lat1)*Math.PI/180;\n      var dLon = (lon2-lon1)*Math.PI/180;\n      var a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n        Math.cos(lat1*Math.PI/180) * Math.cos(lat2*Math.PI/180) *\n        Math.sin(dLon/2) * Math.sin(dLon/2);\n      var c = 2 * Math.asin(Math.sqrt(a));\n      var d = R * c;\n      return parseInt(d*1000);\n    },\n  \"deg2rad\": function deg2rad(deg) {\n    return deg * (Math.PI / 180);\n  },\n  \"miles2km\": function miles2km(mil) {\n    return mil * 1.852;\n  },\n  \"feet2meters\": function feet2meters(feet) {\n    return feet * 0.3048;\n  }\n};\n\n/* Сортировка */\n\nexport const dynamicSort = function (property) {\n  var sortOrder = 1;\n  if(property[0] === \"-\") {\n    sortOrder = -1;\n    property = property.substr(1);\n  }\n  return function (a,b) {\n    var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n    return result * sortOrder;\n  }\n};","/* Плагин для отображения сообщений */\n\nconst HIDE_TIMEOUT = 5000;\n\nexport default class {\n  constructor(selector) {\n    this.selector = selector;\n    this.message = '';\n    this.init();\n  }\n\n  init() {\n    this.box = document.querySelector(this.selector) || null;\n    this.hide();\n  }\n\n  setMsg(message) {\n    if (this.box) {\n      this.box.innerText = message;\n      this.show();\n    }\n  }\n\n  show() {\n    let self = this;\n    if (this.box) { this.box.style.display = ''; }\n    setTimeout(() => { this.hide() }, HIDE_TIMEOUT);\n  }\n\n  hide() {\n    if (this.box) { this.box.style.display = 'none'; }\n  }\n\n  clear() {\n    if (this.box) { this.box.innerText = ''; }\n  }\n}"],"sourceRoot":""}